{
  "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
  "title": "##### Get Started",
  "num_chunks": 11,
  "total_chars": 5125,
  "chunks": [
    {
      "index": 0,
      "text": "Get Started\n- [Overview](\\overview)\n- [Quick start](\\getting-started\\quick-start)\n- [Installation](\\getting-started\\installation)\n- [Local development](\\getting-started\\local-development)",
      "char_count": 187,
      "token_count": 47,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 47,
        "has_context": true
      }
    },
    {
      "index": 1,
      "text": "Concepts\n- [Agents](\\concepts\\agents)\n- [Tools](\\concepts\\tools)\n- [Networks](\\concepts\\networks)\n- [State](\\concepts\\state)\n- [Routers](\\concepts\\routers)\n- [History](\\concepts\\history)\n- [Memory](\\concepts\\memory)\n- [Models](\\concepts\\models)\n- [Deployment](\\concepts\\deployment)",
      "char_count": 281,
      "token_count": 95,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 95,
        "has_context": true
      }
    },
    {
      "index": 2,
      "text": "Streaming\n- [Overview](\\streaming\\overview)\n- [Usage Guide](\\streaming\\usage-guide)\n- [Events](\\streaming\\events)\n- [Transport](\\streaming\\transport)\n- [Provider](\\streaming\\provider)",
      "char_count": 183,
      "token_count": 54,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 54,
        "has_context": true
      }
    },
    {
      "index": 3,
      "text": "Advanced Patterns\n- [Deterministic state routing](\\advanced-patterns\\routing)\n- [MCP as tools](\\advanced-patterns\\mcp)\n- [Human in the Loop](\\advanced-patterns\\human-in-the-loop)\n- [Multi-steps tools](\\advanced-patterns\\multi-steps-tools)\n- [Configuring Retries](\\advanced-patterns\\retries)\n- [Configuring Multi-tenancy](\\advanced-patterns\\multitenancy)\n- [UI Streaming with useAgent](\\advanced-patterns\\legacy-ui-streaming)",
      "char_count": 424,
      "token_count": 117,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 117,
        "has_context": true
      }
    },
    {
      "index": 4,
      "text": "Guided Tour\n- [The three levels of AI apps](\\guided-tour\\overview)\n- [1. Explaining a given code file](\\guided-tour\\ai-workflows)\n- [2. Complex code analysis](\\guided-tour\\agentic-workflows)\n- [3. Autonomous Bug Solver](\\guided-tour\\ai-agents)",
      "char_count": 243,
      "token_count": 75,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 75,
        "has_context": true
      }
    },
    {
      "index": 5,
      "text": "Integrations\n- [E2B - Sandboxes for AI Agents](\\integrations\\e2b)\n- [Browserbase - AI Browsers](\\integrations\\browserbase)\n- [Smithery - MCP Registry](\\integrations\\smithery)\nclose\nOn this page\n- [Configuring Retries](#configuring-retries)\n- [Transforming your AgentKit network into an Inngest function](#transforming-your-agentkit-network-into-an-inngest-function)\n- [Configuring a custom retry policy](#configuring-a-custom-retry-policy)\n- [Going further](#going-further)\nAdvanced Patterns",
      "char_count": 491,
      "token_count": 133,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 133,
        "has_context": true
      }
    },
    {
      "index": 6,
      "text": "Configuring Retries\nConfigure retries for your AgentKit network Agents and Tool calls.\nUsing AgentKit alongside Inngest enables automatic retries for your AgentKit network Agents and Tools calls.\nThe default retry policy is to retry 4 times with exponential backoff and can be configured by following the steps below.\n**Prerequisites**\nYour AgentKit network\n[must be configured with Inngest](\\getting-started\\local-development#1-install-the-inngest-package)\n.",
      "char_count": 459,
      "token_count": 96,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 96,
        "has_context": true
      }
    },
    {
      "index": 7,
      "text": "Configuring Retries\nConfiguring Retries\nConfiguring a custom retry policy is done by transforming your AgentKit network into an Inngest function.",
      "char_count": 145,
      "token_count": 31,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 31,
        "has_context": true
      }
    },
    {
      "index": 8,
      "text": "Configuring Retries\nConfiguring Retries\nTransforming your AgentKit network into an Inngest function\nFirst, you'll need to create an Inngest Client:\nsrc/inngest/client.ts Copy Ask AI\n```\nimport { Inngest } from \"inngest\" ;\n\nconst inngest = new Inngest ({\nid: \"my-agentkit-network\" ,\n});\n```\nThen, transform your AgentKit network into an Inngest function as follows:\nsrc/inngest/agent-network.ts Copy Ask AI\n```\nimport { createAgent , createNetwork , openai } from \"@inngest/agent-kit\" ;\nimport { createServer } from \"@inngest/agent-kit/server\" ;\n\nimport { inngest } from \"./inngest/client\" ;\n\nconst deepResearchAgent = createAgent ({\nname: \"Deep Research Agent\" ,\ntools: [\n/* ... */\n],\n});\n\nconst network = createNetwork ({\nname: \"My Network\" ,\ndefaultModel: openai ({ model: \"gpt-4o\" }),\nagents: [ deepResearchAgent ],\n});\n\nconst deepResearchNetworkFunction = inngest . createFunction (\n{\nid: \"deep-research-network\" ,\n},\n{\nevent: \"deep-research-network/run\" ,\n},\nasync ({ event , step }) => {\nconst { input } = event . data ;\nreturn network . run ( input );\n}\n);\n\nconst server = createServer ({\nfunctions: [ deepResearchNetworkFunction ],\n});\n\nserver . listen ( 3010 , () => console . log ( \"Agent kit running!\" ));\n```\nThe\n```\nnetwork.run()\n```\nis now performed by the Inngest function.\nDon't forget to register the function with\n```\ncreateServer\n```\n's\n```\nfunctions\n```\nproperty.",
      "char_count": 1383,
      "token_count": 371,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 371,
        "has_context": true
      }
    },
    {
      "index": 9,
      "text": "Configuring Retries\nConfiguring Retries\nConfiguring a custom retry policy\nWe can now configure the capacity by user by adding concurrency and throttling configuration to our Inngest function:\nsrc/inngest/agent-network.ts Copy Ask AI\n```\nimport { createAgent , createNetwork , openai } from '@inngest/agent-kit' ;\nimport { createServer } from '@inngest/agent-kit/server' ;\n\nimport { inngest } from './inngest/client' ;\n\n// network and agent definitions..\n\nconst deepResearchNetworkFunction = inngest . createFunction ({\nid: 'deep-research-network' ,\nretries: 1\n}, {\nevent: \"deep-research-network/run\"\n}, async ({ event , step }) => {\nconst { input } = event . data ;\n\nreturn network . run ( input );\n})\n\nconst server = createServer ({\nfunctions: [ deepResearchNetworkFunction ],\n});\n\nserver . listen ( 3010 , () => console . log ( \"Agent kit running!\" ));\n```\nYour AgentKit network will now retry once on any failure happening during a single execution cycle of your network.",
      "char_count": 974,
      "token_count": 235,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 235,
        "has_context": true
      }
    },
    {
      "index": 10,
      "text": "Configuring Retries\nConfiguring Multitenancy\n[Learn how to configure user-based capacity for your AgentKit network.](\\advanced-patterns\\multitenancy)\n[Multi-steps tools Previous](\\advanced-patterns\\multi-steps-tools)\n[Configuring Multi-tenancy Next](\\advanced-patterns\\multitenancy)\n⌘ I\nAssistant Responses are generated using AI and may contain mistakes.",
      "char_count": 355,
      "token_count": 84,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_retries.md",
        "file_name": "advanced-patterns_retries.md",
        "file_size": 5473,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "660a6b1999be5035affe20e449908c5191c03a3a9839ccb87897ccb53fa8a0ea",
        "author": null,
        "created_at": "2025-10-12T23:51:12.784876",
        "modified_at": "2025-10-12T23:51:12.784876",
        "page_count": null,
        "word_count": 620,
        "extracted_at": "2025-10-13T19:59:16.326395",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 84,
        "has_context": true
      }
    }
  ]
}