{
  "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
  "title": "##### Get Started",
  "num_chunks": 11,
  "total_chars": 5661,
  "chunks": [
    {
      "index": 0,
      "text": "Get Started\n- [Overview](\\overview)\n- [Quick start](\\getting-started\\quick-start)\n- [Installation](\\getting-started\\installation)\n- [Local development](\\getting-started\\local-development)",
      "char_count": 187,
      "token_count": 47,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 47,
        "has_context": true
      }
    },
    {
      "index": 1,
      "text": "Concepts\n- [Agents](\\concepts\\agents)\n- [Tools](\\concepts\\tools)\n- [Networks](\\concepts\\networks)\n- [State](\\concepts\\state)\n- [Routers](\\concepts\\routers)\n- [History](\\concepts\\history)\n- [Memory](\\concepts\\memory)\n- [Models](\\concepts\\models)\n- [Deployment](\\concepts\\deployment)",
      "char_count": 281,
      "token_count": 95,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 95,
        "has_context": true
      }
    },
    {
      "index": 2,
      "text": "Streaming\n- [Overview](\\streaming\\overview)\n- [Usage Guide](\\streaming\\usage-guide)\n- [Events](\\streaming\\events)\n- [Transport](\\streaming\\transport)\n- [Provider](\\streaming\\provider)",
      "char_count": 183,
      "token_count": 54,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 54,
        "has_context": true
      }
    },
    {
      "index": 3,
      "text": "Advanced Patterns\n- [Deterministic state routing](\\advanced-patterns\\routing)\n- [MCP as tools](\\advanced-patterns\\mcp)\n- [Human in the Loop](\\advanced-patterns\\human-in-the-loop)\n- [Multi-steps tools](\\advanced-patterns\\multi-steps-tools)\n- [Configuring Retries](\\advanced-patterns\\retries)\n- [Configuring Multi-tenancy](\\advanced-patterns\\multitenancy)\n- [UI Streaming with useAgent](\\advanced-patterns\\legacy-ui-streaming)",
      "char_count": 424,
      "token_count": 117,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 117,
        "has_context": true
      }
    },
    {
      "index": 4,
      "text": "Guided Tour\n- [The three levels of AI apps](\\guided-tour\\overview)\n- [1. Explaining a given code file](\\guided-tour\\ai-workflows)\n- [2. Complex code analysis](\\guided-tour\\agentic-workflows)\n- [3. Autonomous Bug Solver](\\guided-tour\\ai-agents)",
      "char_count": 243,
      "token_count": 75,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 75,
        "has_context": true
      }
    },
    {
      "index": 5,
      "text": "Integrations\n- [E2B - Sandboxes for AI Agents](\\integrations\\e2b)\n- [Browserbase - AI Browsers](\\integrations\\browserbase)\n- [Smithery - MCP Registry](\\integrations\\smithery)\nclose\nOn this page\n- [Configuring Multi-tenancy](#configuring-multi-tenancy)\n- [Transforming your AgentKit network into an Inngest function](#transforming-your-agentkit-network-into-an-inngest-function)\n- [Configuring a concurrency per user](#configuring-a-concurrency-per-user)\n- [Going further](#going-further)\nAdvanced Patterns",
      "char_count": 505,
      "token_count": 137,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 137,
        "has_context": true
      }
    },
    {
      "index": 6,
      "text": "Configuring Multi-tenancy\nConfigure capacity based on users or organizations.\nAs discussed in the\n[deployment guide](\\concepts\\deployment)\n, moving an AgentKit network into users' hands requires configuring usage limits.\nTo avoid having one user's usage affect another, you can configure multi-tenancy.\nMulti-tenancy consists of configuring limits based on users or organizations (\n*called \"tenants\"*\n).\nIt can be easily configured on your AgentKit network using Inngest.\n**Prerequisites**\nYour AgentKit network\n[must be configured with Inngest](\\getting-started\\local-development#1-install-the-inngest-package)\n.",
      "char_count": 613,
      "token_count": 135,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 135,
        "has_context": true
      }
    },
    {
      "index": 7,
      "text": "Configuring Multi-tenancy\nConfiguring Multi-tenancy\nAdding multi-tenancy to your AgentKit network is done by transforming your AgentKit network into an Inngest function.",
      "char_count": 169,
      "token_count": 39,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 39,
        "has_context": true
      }
    },
    {
      "index": 8,
      "text": "Configuring Multi-tenancy\nConfiguring Multi-tenancy\nTransforming your AgentKit network into an Inngest function\nFirst, you'll need to create an Inngest Client:\nsrc/inngest/client.ts Copy Ask AI\n```\nimport { Inngest } from \"inngest\" ;\n\nconst inngest = new Inngest ({\nid: \"my-agentkit-network\" ,\n});\n```\nThen, transform your AgentKit network into an Inngest function as follows:\nsrc/inngest/agent-network.ts Copy Ask AI\n```\nimport { createAgent , createNetwork , openai } from \"@inngest/agent-kit\" ;\nimport { createServer } from \"@inngest/agent-kit/server\" ;\n\nimport { inngest } from \"./inngest/client\" ;\n\nconst deepResearchAgent = createAgent ({\nname: \"Deep Research Agent\" ,\ntools: [\n/* ... */\n],\n});\n\nconst network = createNetwork ({\nname: \"My Network\" ,\ndefaultModel: openai ({ model: \"gpt-4o\" }),\nagents: [ deepResearchAgent ],\n});\n\nconst deepResearchNetworkFunction = inngest . createFunction (\n{\nid: \"deep-research-network\" ,\n},\n{\nevent: \"deep-research-network/run\" ,\n},\nasync ({ event , step }) => {\nconst { input } = event . data ;\nreturn network . run ( input );\n}\n);\n\nconst server = createServer ({\nfunctions: [ deepResearchNetworkFunction ],\n});\n\nserver . listen ( 3010 , () => console . log ( \"Agent kit running!\" ));\n```\nThe\n```\nnetwork.run()\n```\nis now performed by the Inngest function.\nDon't forget to register the function with\n```\ncreateServer\n```\n's\n```\nfunctions\n```\nproperty.",
      "char_count": 1395,
      "token_count": 375,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 375,
        "has_context": true
      }
    },
    {
      "index": 9,
      "text": "Configuring Multi-tenancy\nConfiguring Multi-tenancy\nConfiguring a concurrency per user\nWe can now configure the capacity by user by adding concurrency and throttling configuration to our Inngest function:\nsrc/inngest/agent-network.ts Copy Ask AI\n```\nimport { createAgent , createNetwork , openai } from '@inngest/agent-kit' ;\nimport { createServer } from '@inngest/agent-kit/server' ;\n\nimport { inngest } from './inngest/client' ;\n\n// network and agent definitions..\n\nconst deepResearchNetworkFunction = inngest . createFunction ({\nid: 'deep-research-network' ,\nconcurrency: [\n{\nkey: \"event.data.user_id\" ,\nlimit: 10 ,\n},\n],\n}, {\nevent: \"deep-research-network/run\"\n}, async ({ event , step }) => {\nconst { input } = event . data ;\n\nreturn network . run ( input );\n})\n\nconst server = createServer ({\nfunctions: [ deepResearchNetworkFunction ],\n});\n\nserver . listen ( 3010 , () => console . log ( \"Agent kit running!\" ));\n```\nYour AgentKit network will now be limited to 10 concurrent requests per user.\nThe same can be done to add\n[throttling](https://www.inngest.com/docs/guides/throttling?ref=agentkit-docs-multitenancy)\n,\n[rate limiting](https://www.inngest.com/docs/guides/rate-limiting?ref=agentkit-docs-multitenancy)\nor\n[priority](https://www.inngest.com/docs/guides/priority?ref=agentkit-docs-multitenancy)\n.",
      "char_count": 1314,
      "token_count": 350,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 350,
        "has_context": true
      }
    },
    {
      "index": 10,
      "text": "Configuring Multi-tenancy\nCustomizing the retries\n[Learn how to customize the retries of your multi-steps tools.](\\advanced-patterns\\retries)\n[Configuring Retries Previous](\\advanced-patterns\\retries)\n[UI Streaming with useAgent Next](\\advanced-patterns\\legacy-ui-streaming)\n⌘ I\nAssistant Responses are generated using AI and may contain mistakes.",
      "char_count": 347,
      "token_count": 82,
      "metadata": {
        "title": "##### Get Started",
        "source": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "chunk_method": "hybrid",
        "file_path": "Docs\\agent_kit\\advanced-patterns_multitenancy.md",
        "file_name": "advanced-patterns_multitenancy.md",
        "file_size": 5989,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "c1b9e34b140bff14c2b150bd3ec9d45b0e02d316b6da16bfb0699e8d1dd63222",
        "author": null,
        "created_at": "2025-10-12T23:51:11.323301",
        "modified_at": "2025-10-12T23:51:11.323852",
        "page_count": null,
        "word_count": 657,
        "extracted_at": "2025-10-13T19:59:15.576284",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 11,
        "token_count": 82,
        "has_context": true
      }
    }
  ]
}