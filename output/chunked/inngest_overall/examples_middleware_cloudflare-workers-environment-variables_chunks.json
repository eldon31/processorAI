{
  "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
  "title": "Cloudflare Workers environment variables and context",
  "num_chunks": 3,
  "total_chars": 2801,
  "chunks": [
    {
      "index": 0,
      "text": "On this page\n- [Cloudflare Workers environment variables and context](\\docs\\examples\\middleware\\cloudflare-workers-environment-variables#cloudflare-workers-environment-variables-and-context)\n- [Creating middleware](\\docs\\examples\\middleware\\cloudflare-workers-environment-variables#creating-middleware)\n[Middleware](\\docs\\examples\\middleware\\cloudflare-workers-environment-variables)",
      "char_count": 383,
      "token_count": 81,
      "metadata": {
        "title": "Cloudflare Workers environment variables and context",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
        "file_name": "examples_middleware_cloudflare-workers-environment-variables.md",
        "file_size": 2898,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "1d5b2744975c54c1515deb761d8c4120bf23803737a72a3818462c1b9680303a",
        "author": null,
        "created_at": "2025-10-12T23:58:28.803501",
        "modified_at": "2025-10-12T23:58:28.804012",
        "page_count": null,
        "word_count": 389,
        "extracted_at": "2025-10-13T20:03:14.679370",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 3,
        "token_count": 81,
        "has_context": true
      }
    },
    {
      "index": 1,
      "text": "Cloudflare Workers environment variables and context\nCloudflare Workers does not set environment variables a global object like Node.js does with\n```\nprocess.env\n```\n. Workers\n[binds environment variables](https://developers.cloudflare.com/workers/configuration/environment-variables/)\nto the worker's special\n```\nfetch\n```\nevent handler thought a specific\n```\nenv\n```\nargument.\nThis means accessing environment variables within Inngest function handlers isn't possible without explicitly passing them through from the worker event handler to the Inngest function handler.\nWe can accomplish this by use the\n[middleware](\\docs\\features\\middleware)\nfeature for Workers or when using\n[Hono](\\docs\\learn\\serving-inngest-functions#framework-hono)\n.",
      "char_count": 743,
      "token_count": 155,
      "metadata": {
        "title": "Cloudflare Workers environment variables and context",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
        "file_name": "examples_middleware_cloudflare-workers-environment-variables.md",
        "file_size": 2898,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "1d5b2744975c54c1515deb761d8c4120bf23803737a72a3818462c1b9680303a",
        "author": null,
        "created_at": "2025-10-12T23:58:28.803501",
        "modified_at": "2025-10-12T23:58:28.804012",
        "page_count": null,
        "word_count": 389,
        "extracted_at": "2025-10-13T20:03:14.679370",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 3,
        "token_count": 155,
        "has_context": true
      }
    },
    {
      "index": 2,
      "text": "Cloudflare Workers environment variables and context\nCreating middleware\nYou can create middleware which extracts the\n```\nenv\n```\nargument from the Workers\n```\nfetch\n```\nevent handler arguments for either Workers or Hono:\n1. Use `onFunctionRun` 's `reqArgs` array to get the `env` object and, optionally, cast a type.\n2. Return the `env` object within the special `ctx` object of `transformInput` lifecycle method.\nWorkers Hono\nCopy Copied\n```\nimport { Inngest , InngestMiddleware } from 'inngest' ;\n\nconst bindings = new InngestMiddleware ({\nname : 'Cloudflare Workers bindings' ,\ninit ({ client , fn }) {\nreturn {\nonFunctionRun ({ ctx , fn , steps , reqArgs }) {\nreturn {\ntransformInput ({ ctx , fn , steps }) {\n// reqArgs is the array of arguments passed to the Worker's fetch event handler\n// ex. fetch(request, env, ctx)\n// We cast the argument to the global Env var that Wrangler generates:\nconst env = reqArgs[ 1 ] as Env ;\nreturn {\nctx : {\n// Return the env object to the function handler's input args\nenv ,\n} ,\n};\n} ,\n};\n} ,\n};\n} ,\n});\n\n// Include the middleware when creating the Inngest client\nexport const inngest = new Inngest ({\nid : 'my-workers-app' ,\nmiddleware : [bindings] ,\n});\n```\nWithin your functions, you can now access the environment variables via the\n```\nenv\n```\nobject argument that you returned in\n```\ntransformInput\n```\nabove. Here's an example function:\nCopy Copied\n```\nconst myFn = inngest .createFunction (\n{ id : 'my-fn' } ,\n{ event : 'demo/event.sent' } ,\n// The \"env\" argument returned in transformInput is passed through:\nasync ({ event , step , env }) => {\n\n// The env object will be typed as well:\nconsole .log ( env . MY_VAR );\n}\n);\n```",
      "char_count": 1675,
      "token_count": 431,
      "metadata": {
        "title": "Cloudflare Workers environment variables and context",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\examples_middleware_cloudflare-workers-environment-variables.md",
        "file_name": "examples_middleware_cloudflare-workers-environment-variables.md",
        "file_size": 2898,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "1d5b2744975c54c1515deb761d8c4120bf23803737a72a3818462c1b9680303a",
        "author": null,
        "created_at": "2025-10-12T23:58:28.803501",
        "modified_at": "2025-10-12T23:58:28.804012",
        "page_count": null,
        "word_count": 389,
        "extracted_at": "2025-10-13T20:03:14.679370",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 3,
        "token_count": 431,
        "has_context": true
      }
    }
  ]
}