{
  "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
  "title": "#### On this page",
  "num_chunks": 9,
  "total_chars": 6002,
  "chunks": [
    {
      "index": 0,
      "text": "On this page\n- [Prisma Pulse: Trigger Functions from database changes](\\docs\\features\\events-triggers\\prisma-pulse#prisma-pulse-trigger-functions-from-database-changes)\n- [Setup Prisma Pulse](\\docs\\features\\events-triggers\\prisma-pulse#setup-prisma-pulse)\n- [Setup and deploying the Inngest Pulse Router](\\docs\\features\\events-triggers\\prisma-pulse#setup-and-deploying-the-inngest-pulse-router)\n- [Configuring the watched tables](\\docs\\features\\events-triggers\\prisma-pulse#configuring-the-watched-tables)\n- [Deploying the Inngest Pulse Router](\\docs\\features\\events-triggers\\prisma-pulse#deploying-the-inngest-pulse-router)\n- [Trigger a Function from a database event](\\docs\\features\\events-triggers\\prisma-pulse#trigger-a-function-from-a-database-event)\nFeatures\n[Events & Triggers](\\docs\\features\\events-triggers)",
      "char_count": 816,
      "token_count": 223,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 223,
        "has_context": true
      }
    },
    {
      "index": 1,
      "text": "Prisma Pulse: Trigger Functions from database changes\nPrisma Pulse integrates with Inngest, transforming database changes into Inngest Events.\nConnecting Prisma Pulse to your database will trigger a new row in the\n```\nusers\n```\ntable, creating a\n```\ndb/user.created\n```\nevent that can trigger Inngest Functions (\n*for example, a user onboarding email sequence*\n).",
      "char_count": 363,
      "token_count": 83,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 83,
        "has_context": true
      }
    },
    {
      "index": 2,
      "text": "Prisma Pulse: Trigger Functions from database changes\nSetup Prisma Pulse\nUsing Prisma Pulse requires some configuration changes on both your Prisma Data Platform account and database.\nPlease refer to the\n[Prisma Pulse documentation to enable it](https://www.prisma.io/docs/pulse/getting-started#1-enable-pulse-in-the-platform-console)\n.",
      "char_count": 336,
      "token_count": 73,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 73,
        "has_context": true
      }
    },
    {
      "index": 3,
      "text": "Prisma Pulse: Trigger Functions from database changes\nSetup and deploying the Inngest Pulse Router\nOnce Prisma Pulse enabled on your account, you'll have to deploy a Inngest Pulse Router, responsible for translating Prisma Pulse events into\nInngest events.\nThe following command will generate for you the Inngest Pulse Router in your application:\nCopy Copied\n```\nnpx try-prisma -t pulse/inngest-router\n```",
      "char_count": 405,
      "token_count": 92,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 92,
        "has_context": true
      }
    },
    {
      "index": 4,
      "text": "Prisma Pulse: Trigger Functions from database changes\nSetup and deploying the Inngest Pulse Router\nConfiguring the watched tables\nThe list of watched tables should be configured in the\n```\nsrc/index.ts\n```\nfile by updating the following list:",
      "char_count": 242,
      "token_count": 52,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 52,
        "has_context": true
      }
    },
    {
      "index": 5,
      "text": "Prisma Pulse: Trigger Functions from database changes\nSetup and deploying the Inngest Pulse Router\nsrc/index.ts\nCopy Copied\n```\n// Here configure each prisma model to stream changes from\nconst PRISMA_MODELS = [ 'notification' , 'user' ];\n```",
      "char_count": 241,
      "token_count": 59,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 59,
        "has_context": true
      }
    },
    {
      "index": 6,
      "text": "Prisma Pulse: Trigger Functions from database changes\nSetup and deploying the Inngest Pulse Router\nDeploying the Inngest Pulse Router\nThe Inngest Pulse Router is a Node.js program opening a websocket connection with the Prisma Pulse API.\nThe following environment variables are required:\n- DATABASE _ URL\n- [PULSE](https://www.prisma.io/docs/pulse/getting-started#14-generate-an-api-key)\n[_](https://www.prisma.io/docs/pulse/getting-started#14-generate-an-api-key)\n[API](https://www.prisma.io/docs/pulse/getting-started#14-generate-an-api-key)\n[_](https://www.prisma.io/docs/pulse/getting-started#14-generate-an-api-key)\n[KEY](https://www.prisma.io/docs/pulse/getting-started#14-generate-an-api-key)\n- [INNGEST](\\docs\\events\\creating-an-event-key)\n[_](\\docs\\events\\creating-an-event-key)\n[EVENT](\\docs\\events\\creating-an-event-key)\n[_](\\docs\\events\\creating-an-event-key)\n[KEY](\\docs\\events\\creating-an-event-key)\n- [INNGEST](\\docs\\platform\\signing-keys)\n[_](\\docs\\platform\\signing-keys)\n[SIGNING](\\docs\\platform\\signing-keys)\n[_](\\docs\\platform\\signing-keys)\n[KEY](\\docs\\platform\\signing-keys)\nDue to its long-lived nature, the Inngest Pulse Router needs to be deployed on a Cloud Provider such as Railway.\n**Using Prisma Pulse with Serverless**\nThe Inngest Pulse Router can also be deployed on Serverless by leveraging the\n[Delivery Guarantees](https://www.prisma.io/blog/prisma-pulse-introducing-delivery-guarantees-for-database-change-events)\nof Pulse events.\nBy passing a\n```\nname\n```\nto your\n```\nprisma.model.stream({ name: \"inngest-router\" })\n```\n, Prisma Pulse will keep track of received events and only send the new ones (since the last connection).\nWe can leverage this mechanism by creating a Inngest Functions trigger by a CRON schedule and running on a Serverless Function. The Inngest Function will run every 15min and collect the first 100 updates before finishing.",
      "char_count": 1881,
      "token_count": 511,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 511,
        "has_context": true
      }
    },
    {
      "index": 7,
      "text": "Prisma Pulse: Trigger Functions from database changes\nTrigger a Function from a database event\nOnce your Inngest Pulse Router deployed, Inngest events matching your database changes will be triggered.\nAll events follow the following format:\n```\n\"db/<table>.<action>\"\n```\nwith\n```\n<action>\n```\npart of:\n- create\n- update\n- delete\nThe events sent by the Inngest Pulse Router contains the changed data, as described\n[in this API Reference](https://www.prisma.io/docs/pulse/api-reference#pulsecreateeventuser)\n.\nHere is an example of a onboarding workflow followed upon each new account creation:",
      "char_count": 592,
      "token_count": 137,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 137,
        "has_context": true
      }
    },
    {
      "index": 8,
      "text": "Prisma Pulse: Trigger Functions from database changes\nTrigger a Function from a database event\napp/inngest/functions.ts\nCopy Copied\n```\nimport { inngest } from \"./client\" ;\nimport { sendEmail } from \"@/lib/email\"\n\nexport const handleNewUser = inngest .createFunction (\n{ id : \"handle-new-user\" } ,\n{ event : \"db/user.create\" } ,\nasync ({ event , step }) => {\n// This object includes the entire record that changed\nconst pulseEvent = event .data;\n\nawait step .run ( \"send-welcome-email\" , async () => {\n// Send welcome email\nawait sendEmail ({\ntemplate : \"welcome\" ,\nto : pulseEvent . created .email ,\n});\n});\n\nawait step .sleep ( \"wait-before-tips\" , \"3d\" );\n\nawait step .run ( \"send-new-user-tips-email\" , async () => {\n// Follow up with some helpful tips\nawait sendEmail ({\ntemplate : \"new-user-tips\" ,\nto : pulseEvent . created .email ,\n});\n});\n} ,\n);\n```\n**Best practice**\nA Function run performing a database change might trigger a Prisma Pulse event that will run the Function again.\nWe recommend using\n```\n\"db/*\"\n```\nevents in combination with a\n```\nif:\n```\nfilter to avoid any infinite loop of Function runs triggered.",
      "char_count": 1126,
      "token_count": 285,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\features_events-triggers_prisma-pulse.md",
        "file_name": "features_events-triggers_prisma-pulse.md",
        "file_size": 5426,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "0c3f85bf19ee3c06209995ec3e0e9eb442089f856e62e2586becbe06b26d41c4",
        "author": null,
        "created_at": "2025-10-12T23:58:40.810935",
        "modified_at": "2025-10-12T23:58:40.811514",
        "page_count": null,
        "word_count": 623,
        "extracted_at": "2025-10-13T20:03:20.128507",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 9,
        "token_count": 285,
        "has_context": true
      }
    }
  ]
}