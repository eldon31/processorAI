{
  "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
  "title": "#### On this page",
  "num_chunks": 5,
  "total_chars": 3709,
  "chunks": [
    {
      "index": 0,
      "text": "On this page\n- [Cancel on](\\docs\\reference\\typescript\\functions\\cancel-on#cancel-on)\n- [How to use cancelOn](\\docs\\reference\\typescript\\functions\\cancel-on#how-to-use-cancel-on)\n- [Configuration](\\docs\\reference\\typescript\\functions\\cancel-on#configuration)\n- [Examples](\\docs\\reference\\typescript\\functions\\cancel-on#examples)\n- [With a timeout window](\\docs\\reference\\typescript\\functions\\cancel-on#with-a-timeout-window)\nReferences\n[TypeScript SDK](\\docs\\reference\\typescript)",
      "char_count": 479,
      "token_count": 131,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "file_name": "reference_typescript_functions_cancel-on.md",
        "file_size": 4052,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "ab153716736c8db5f57dc37d03fa7cd998821dfb60fb944c055d986bd4def57d",
        "author": null,
        "created_at": "2025-10-13T00:01:28.475368",
        "modified_at": "2025-10-13T00:01:28.475976",
        "page_count": null,
        "word_count": 549,
        "extracted_at": "2025-10-13T20:04:54.669008",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 5,
        "token_count": 131,
        "has_context": true
      }
    },
    {
      "index": 1,
      "text": "Cancel on\nStop the execution of a running function when a specific event is received using\n```\ncancelOn\n```\n.\nCopy Copied\n```\ninngest .createFunction (\n{\nid : \"sync-contacts\" ,\ncancelOn : [\n{\nevent : \"app/user.deleted\" ,\n// ensure the async (future) event's userId matches the trigger userId\nif : \"async.data.userId == event.data.userId\" ,\n} ,\n] ,\n}\n// ...\n);\n```\nUsing\n```\ncancelOn\n```\nis very useful for handling scenarios where a long-running function should be terminated early due to changes elsewhere in your system.\nThe API for this is similar to the\n[```\nstep.waitForEvent()\n```](\\docs\\guides\\multi-step-functions#wait-for-event)\ntool, allowing you to specify the incoming event and different methods for matching pieces of data within.",
      "char_count": 744,
      "token_count": 181,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "file_name": "reference_typescript_functions_cancel-on.md",
        "file_size": 4052,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "ab153716736c8db5f57dc37d03fa7cd998821dfb60fb944c055d986bd4def57d",
        "author": null,
        "created_at": "2025-10-13T00:01:28.475368",
        "modified_at": "2025-10-13T00:01:28.475976",
        "page_count": null,
        "word_count": 549,
        "extracted_at": "2025-10-13T20:04:54.669008",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 5,
        "token_count": 181,
        "has_context": true
      }
    },
    {
      "index": 2,
      "text": "Cancel on\nHow to use cancelOn\nThe most common use case for cancellation is to cancel a function's execution if a specific field in the incoming event matches the same field in the triggering event. For example, you might want to cancel a sync event for a user if that user is deleted. For this, you need to specify a\n```\nmatch\n```\n[expression](\\docs\\guides\\writing-expressions)\n. Let's look at an example function and two events.\nThis function specifies it will\n```\ncancelOn\n```\nthe\n```\n\"app/user.deleted\"\n```\nevent only when it and the original\n```\n\"app/user.created\"\n```\nevent have the same\n```\ndata.userId\n```\nvalue:\nCopy Copied\n```\ninngest .createFunction (\n{\nid : \"sync-contacts\" ,\ncancelOn : [\n{\nevent : \"app/user.deleted\" ,\n// ensure the async (future) event's userId matches the trigger userId\nif : \"async.data.userId == event.data.userId\" ,\n} ,\n] ,\n} ,\n{ event : \"app/user.created\" } ,\n// ...\n);\n```\nFor the given function, this is an example of an event that would trigger the function:\nCopy Copied\n```\n{\n\"name\" : \"app/user.created\" ,\n\"data\" : {\n\"userId\" : \"123\" ,\n\"name\" : \"John Doe\"\n}\n}\n```\nAnd this is an example of an event that would cancel the function as it and the original event have the same\n```\ndata.userId\n```\nvalue of\n```\n\"123\"\n```\n:\nCopy Copied\n```\n{\n\"name\" : \"app/user.deleted\" ,\n\"data\" : {\n\"userId\" : \"123\"\n}\n}\n```\nMatch expressions can be simple equalities or be more complex. Read\n[our guide to writing expressions](\\docs\\guides\\writing-expressions)\nfor more info.\nFunctions are cancelled\n*between steps*\n, meaning that if there is a\n```\nstep.run\n```\ncurrently executing, it will finish before the function is cancelled.\nInngest does this to ensure that steps are treated like atomic operations and each step either completes or does not run at all.",
      "char_count": 1777,
      "token_count": 469,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "file_name": "reference_typescript_functions_cancel-on.md",
        "file_size": 4052,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "ab153716736c8db5f57dc37d03fa7cd998821dfb60fb944c055d986bd4def57d",
        "author": null,
        "created_at": "2025-10-13T00:01:28.475368",
        "modified_at": "2025-10-13T00:01:28.475976",
        "page_count": null,
        "word_count": 549,
        "extracted_at": "2025-10-13T20:04:54.669008",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 5,
        "token_count": 469,
        "has_context": true
      }
    },
    {
      "index": 3,
      "text": "Cancel on\nConfiguration\n- Name `cancelOn` Type array of objects Required optional Description Define events that can be used to cancel a running or sleeping function Properties",
      "char_count": 176,
      "token_count": 32,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "file_name": "reference_typescript_functions_cancel-on.md",
        "file_size": 4052,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "ab153716736c8db5f57dc37d03fa7cd998821dfb60fb944c055d986bd4def57d",
        "author": null,
        "created_at": "2025-10-13T00:01:28.475368",
        "modified_at": "2025-10-13T00:01:28.475976",
        "page_count": null,
        "word_count": 549,
        "extracted_at": "2025-10-13T20:04:54.669008",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 5,
        "token_count": 32,
        "has_context": true
      }
    },
    {
      "index": 4,
      "text": "Cancel on\nExamples\nWith a timeout window\nCancel a function's execution if a matching event is received within a given amount of time from the function being triggered.\nv3 v2\nCopy Copied\n```\ninngest .createFunction (\n{\nid : \"sync-contacts\" ,\ncancelOn : [{ event : \"app/user.deleted\" , match : \"data.userId\" , timeout : \"1h\" }] ,\n}\n// ...\n);\n```\nThis is useful when you want to limit the time window for cancellation, ensuring that the function will continue to execute if no matching event is received within the specified time frame.",
      "char_count": 533,
      "token_count": 127,
      "metadata": {
        "title": "#### On this page",
        "source": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "chunk_method": "hybrid",
        "file_path": "C:\\Users\\raze0\\Documents\\LLM_KNOWLEDGE_CREATOR\\RAG\\Docs\\inngest_overall\\reference_typescript_functions_cancel-on.md",
        "file_name": "reference_typescript_functions_cancel-on.md",
        "file_size": 4052,
        "file_format": ".md",
        "mime_type": "text/markdown",
        "sha256_hash": "ab153716736c8db5f57dc37d03fa7cd998821dfb60fb944c055d986bd4def57d",
        "author": null,
        "created_at": "2025-10-13T00:01:28.475368",
        "modified_at": "2025-10-13T00:01:28.475976",
        "page_count": null,
        "word_count": 549,
        "extracted_at": "2025-10-13T20:04:54.669008",
        "processing_method": "markdown_docling",
        "custom_metadata": {},
        "total_chunks": 5,
        "token_count": 127,
        "has_context": true
      }
    }
  ]
}